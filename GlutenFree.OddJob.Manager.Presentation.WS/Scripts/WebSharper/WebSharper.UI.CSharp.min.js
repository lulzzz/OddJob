(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z;a=self;b=a.WebSharper=a.WebSharper||{};c=b.UI=b.UI||{};d=c.ViewExtensions=c.ViewExtensions||{};e=c.DocExtension=c.DocExtension||{};f=c.Client=c.Client||{};g=f.Helpers=f.Helpers||{};h=b&&b.Obj;i=f.RouteMapBuilder=f.RouteMapBuilder||{};j=f.RouteItemParsers=f.RouteItemParsers||{};k=c&&c.View;l=c&&c.Doc;m=c&&c.Var$1;n=b&&b.List;o=a.IntelliFactory;p=o&&o.Runtime;q=c&&c.RouteMap;r=b&&b.Seq;s=b&&b.Unchecked;t=b&&b.Arrays;u=b&&b.Collections;v=u&&u.Map;w=b&&b.Nullable;x=b&&b.Operators;y=u&&u.FSharpMap;z=b&&b.Option;d.UpdateWhile=function(A,B,C){return k.UpdateWhile(B,C,A);};e.DocLens=function(A,B){return l.Flatten(A.MapLens(B));};e.Doc=function(A,B){return l.ConvertSeqBy(A.key,function(C){return function(D){return B(C,D);};},A["var"].get_View());};e.Doc$1=function(A,B){return l.ConvertBy(A.key,B,A["var"].get_View());};e.DocLens$1=function(A,B,C){return l.ConvertSeqVarBy(B,C,A);};e.DocSeqCached=function(A,B,C){return l.ConvertSeqBy(B,function(D){return function(E){return C(D,E);};},A);};g.seqRefToListRef=function(A){return m.Lens(A,n.ofSeq,function(B,C){return C;});};i=f.RouteMapBuilder=p.Class({Install:function(){var A,B;function C(D,E){return D(function(F){return m.Set(A,F);},E);}A=q.Install(this.ToRouteMap());B=n.map(function(D){return function(E){return C(D,E);};},n.rev(this.renders));return l.BindView(function(D){return r.pick(function(E){return E(D);},B);},A.get_View());},ToRouteMap:function(){var A,B;A=n.rev(this.links);B=n.rev(this.routes);return q.CreateWithQuery(function(C){return r.pick(function(D){return D(C);},A);},function(C){return r.pick(function(D){return D(C);},B);});},AddRender:function(A){this.renders=new n.T({$:1,$0:A,$1:this.renders});},AddLink:function(A){this.links=new n.T({$:1,$0:A,$1:this.links});},AddRoute:function(A){this.routes=new n.T({$:1,$0:A,$1:this.routes});}},h,i);i.New=p.Ctor(function(){h.New.call(this);this.links=n.T.Empty;this.routes=n.T.Empty;this.renders=n.T.Empty;},i);j["System.Double"]=function(A){var B,C;B=A[0];return B.$==1?(C=(new a.RegExp("^[0-9](?:\\.[0-9]*)?$")).exec(B.$0),s.Equals(C,null)?null:{$:1,$0:[a.parseFloat(t.get(C,0)),B.$1]}):null;};j["System.Int32"]=function(A){var B,C;B=A[0];return B.$==1?(C=(new a.RegExp("^[0-9]+$")).exec(B.$0),s.Equals(C,null)?null:{$:1,$0:[a.parseInt(t.get(C,0),a.$radix),B.$1]}):null;};j["System.String"]=function(A){var B;B=A[0];return B.$==1?{$:1,$0:[B.$0,B.$1]}:null;};j.MakeLink=function(A){return function(B){var C,D;function E(H,I,J,K){var L,M,N,O,P,Q;return I===0?(L=K(B[H]),(C[0]=v.FoldBack(function(R,S,T){return T.Add(R,S);},L[1],C[0]),L[0])):I===1?(C[0]=(M=n.head((K(B[H]))[0]),C[0].Add(H,M)),n.T.Empty):I===2?(N=B[H],N!=null&&N.$==1?C[0]=(O=n.head((K(N.$0))[0]),C[0].Add(H,O)):void 0,n.T.Empty):I===3?(P=B[H],(P!=null?C[0]=(Q=n.head((K(w.get(P)))[0]),C[0].Add(H,Q)):void 0,n.T.Empty)):x.FailWith("invalid QueryItem enum value");}function F(H){return H[0];}function G(H,I){return function(J){return(I(J))[0];};}return A.$==1?(C=[new y.New([])],[n.append(z.toList(A.$1),n.ofSeq(r.collect(function(H){return E(H[0],H[1],H[2],H[3]);},A.$2))),C[0]]):A.$==2?[new n.T({$:1,$0:a.String(r.length(B)),$1:n.ofSeq(r.collect((D=A.$2,function(H){return F(D(H));}),B))}),new y.New([])]:A.$==3?[n.ofSeq(r.concat((((p.Curried3(r.map2))(function(H,I){return(function(J){return G(J[0],J[1]);}(H))(I);}))(A.$0))(B))),new y.New([])]:[n.ofArray([a.String(B)]),new y.New([])];};};j.ParseRoute=function(A){var B,C;function D(E,F){return F.$==0?{$:1,$0:E}:null;}B=j.ParseShape(A);C=function(E){var F;return E==null?null:(F=E.$0,D(F[0],F[1]));};return function(E){return C(B(E));};};j.ParseShape=function(A){return function(B){var C,D,E,F,G,H,I,J,K,L,M,N;function O(Q,R,S){var T,U;function V(W,X){var Y,Z,_0,_1,_2,_3,_4,_5,_6,_7;Y=X[0];Z=X[1];_0=X[2];return W!=null&&W.$==1?(_1=W.$0,Z===0?(_2=_0([_1,D]),_2!=null&&_2.$==1?(T[Y]=_2.$0[0],{$:1,$0:_2.$0[1]}):null):Z===1?(_3=v.TryFind(Y,D),_3==null?null:(T[Y]=_3.$0,{$:1,$0:_1})):Z===2?(_4=v.TryFind(Y,D),_4!=null&&_4.$==1?(_5=_0([n.ofArray([_4.$0]),new y.New([])]),_5!=null&&_5.$==1?(T[Y]={$:1,$0:_5.$0[0]},{$:1,$0:_1}):null):(T[Y]=null,{$:1,$0:_1})):Z===3?(_6=v.TryFind(Y,D),_6!=null&&_6.$==1?(_7=_0([n.ofArray([_6.$0]),new y.New([])]),_7!=null&&_7.$==1?(T[Y]=_7.$0[0],{$:1,$0:_1}):null):(T[Y]=null,{$:1,$0:_1})):x.FailWith("invalid QueryItem enum value")):null;}T=Q();U=(((p.Curried3(t.fold))(V))({$:1,$0:R}))(S);return U==null?null:{$:1,$0:[T,U.$0]};}function P(Q,R){var S,T,U,V;return Q==null?null:(S=R[0]([Q.$0,D]),S==null?null:{$:1,$0:(T=S.$0,(U=T[0],(V=T[1],(M.push(U),V))))});}C=B[0];D=B[1];return A.$==1?A.$1==null?O(A.$0,C,A.$2):C.$==1&&(C.$0===A.$1.$0&&(E=[C.$1,C.$0],true))?O(A.$0,E[0],A.$2):null:A.$==2?(F=A.$0,(G=A.$1,(H=j["System.Int32"]([C,D]),H==null?null:(I=H.$0,(J=I[0],(K=I[1],(L=t.create(J,null),function(Q,R){var S;while(true)if(Q===J)return{$:1,$0:[F(L),R]};else{S=G([R,D]);if(S!=null&&S.$==1){t.set(L,Q,S.$0[0]);Q=Q+1;R=S.$0[1];}else return null;}}(0,K)))))))):A.$==3?(M=[],(N=(((p.Curried3(t.fold))(P))({$:1,$0:C}))(A.$0),N==null?null:{$:1,$0:[M,N.$0]})):A.$0([C,D]);};};}());

//# sourceMappingURL=WebSharper.UI.CSharp.min.map